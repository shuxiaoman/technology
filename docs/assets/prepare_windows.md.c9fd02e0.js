import{_ as s,c as n,o as a,N as l}from"./chunks/framework.eb0d3d4b.js";const d=JSON.parse('{"title":"windows 篇","description":"","frontmatter":{},"headers":[],"relativePath":"prepare/windows.md"}'),e={name:"prepare/windows.md"},p=l(`<h1 id="windows-篇" tabindex="-1">windows 篇 <a class="header-anchor" href="#windows-篇" aria-label="Permalink to &quot;windows 篇&quot;">​</a></h1><h2 id="安装-linux-虚拟机" tabindex="-1">安装 linux 虚拟机 <a class="header-anchor" href="#安装-linux-虚拟机" aria-label="Permalink to &quot;安装 linux 虚拟机&quot;">​</a></h2><blockquote><p>原因：主流开发选择 unix、类 uniux 系统，导致 powershell 生态不好，兼容性不佳，很多工具不能在 windows 上运行。比如<a href="https://lowcode-engine.cn/site/docs/guide/quickStart/start#wslwindow-%E7%94%B5%E8%84%91" target="_blank" rel="noreferrer">阿里低代码引擎</a></p></blockquote><ol><li><p>安装虚拟环境：应用\\启用或关闭 windows 功能</p><ul><li>勾选 适用于 Linux 的子系统、虚拟机平台</li></ul></li><li><p>微软商店安装 ubuntu、windows terminal</p><blockquote><p>ubuntu 是 linux 的发行版本</p></blockquote></li><li><p>在 powershell 里将 ubuntu 升级为 wsl2</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">wsl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--set-default-version</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"></span></code></pre></div></li><li><p>clash 开启允许局域网</p></li><li><p>防火墙允许 wsl 用 clash 代理</p><ol><li>控制面板\\系统和安全\\Windows Defender 防火墙\\允许的应用</li><li>勾选 clash</li></ol></li><li><p>用 windows terminal 打开 ubuntu，根据提示，设置密码</p></li><li><p>切换管理员</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">su</span></span>
<span class="line"></span></code></pre></div></li><li><p>ubuntu 更换国内源，否则经常出现安装失败</p><ol><li><p>备份原始源文件</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/apt/sources</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/apt/sources.list.bak</span></span>
<span class="line"></span></code></pre></div></li><li><p>更改文件权限使其可编辑</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">777</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/apt/sources.list</span></span>
<span class="line"></span></code></pre></div></li><li><p>查看 ubuntu 版本</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">cat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/issue</span></span>
<span class="line"></span></code></pre></div></li><li><p>根据版本配置镜像（推荐阿里镜像）</p><ul><li><p>ubuntu 16</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">deb http://mirrors.aliyun.com/ubuntu/ xenial main</span></span>
<span class="line"><span style="color:#A6ACCD;">deb-src http://mirrors.aliyun.com/ubuntu/ xenial main</span></span>
<span class="line"><span style="color:#A6ACCD;">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main</span></span>
<span class="line"><span style="color:#A6ACCD;">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main</span></span>
<span class="line"><span style="color:#A6ACCD;">deb http://mirrors.aliyun.com/ubuntu/ xenial universe</span></span>
<span class="line"><span style="color:#A6ACCD;">deb-src http://mirrors.aliyun.com/ubuntu/ xenial universe</span></span>
<span class="line"><span style="color:#A6ACCD;">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe</span></span>
<span class="line"><span style="color:#A6ACCD;">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates universe</span></span>
<span class="line"><span style="color:#A6ACCD;">deb http://mirrors.aliyun.com/ubuntu/ xenial-security main</span></span>
<span class="line"><span style="color:#A6ACCD;">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main</span></span>
<span class="line"><span style="color:#A6ACCD;">deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe</span></span>
<span class="line"><span style="color:#A6ACCD;">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security universe</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li><p>ubuntu 18</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;">deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li><p>ubuntu 20</p><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">  deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;">  deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;">  deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;">  deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;">  deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;">  deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li></ul></li></ol></li></ol><h2 id="安装命令行工具" tabindex="-1">安装命令行工具 <a class="header-anchor" href="#安装命令行工具" aria-label="Permalink to &quot;安装命令行工具&quot;">​</a></h2><blockquote><p>因为我 mac 上就用的 zsh，这里统一一下，到时候切换 mac 开发比较丝滑</p></blockquote><ol><li><p>更新 apt</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">apt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update</span></span>
<span class="line"></span></code></pre></div></li><li><p>检查系统里的 shell</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">cat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/shells</span></span>
<span class="line"></span></code></pre></div></li><li><p>安装 zsh</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">apt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">zsh</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#安装 zsh</span></span>
<span class="line"><span style="color:#FFCB6B;">chsh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/bin/zsh</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#将 zsh 设置成默认 shell（不设置的话启动 zsh 只有直接 zsh 命令即可）</span></span>
<span class="line"></span></code></pre></div></li><li><p>配置 .zshrc</p><blockquote><p>记得 source ~/.zshrc 使配置生效</p></blockquote><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">vo</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   hostip</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">cat</span><span style="color:#C3E88D;"> /etc/resolv.conf </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#C3E88D;"> -oP </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">(?&lt;=nameserver\\ ).*</span><span style="color:#89DDFF;">&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> https_proxy</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://</span><span style="color:#89DDFF;">\${</span><span style="color:#C3E88D;">hostip</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">:7890</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> http_proxy</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://</span><span style="color:#89DDFF;">\${</span><span style="color:#C3E88D;">hostip</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">:7890</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#C3E88D;">hostip</span><span style="color:#89DDFF;">}&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">梯子-开</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">vf</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#82AAFF;">unset</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https_proxy</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#82AAFF;">unset</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http_proxy</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">梯子-关</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">alias</span><span style="color:#A6ACCD;"> pn</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">pnpm</span></span>
<span class="line"></span></code></pre></div></li></ol><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="wsl2-不能连接网络" tabindex="-1">wsl2 不能连接网络 <a class="header-anchor" href="#wsl2-不能连接网络" aria-label="Permalink to &quot;wsl2 不能连接网络&quot;">​</a></h3><ol><li>安装 docker 后，<strong>_curl <a href="https://baidu.com" target="_blank" rel="noreferrer">https://baidu.com</a> _</strong> 或者 <strong><em>pnpm、yarn 等安装时，网络连接超时</em></strong></li><li><a href="https://github.com/microsoft/WSL/issues/5336#issuecomment-653881695" target="_blank" rel="noreferrer">github 解决办法</a></li></ol>`,10),o=[p];function t(r,c,i,u,C,y){return a(),n("div",null,o)}const D=s(e,[["render",t]]);export{d as __pageData,D as default};
